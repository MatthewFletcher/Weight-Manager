<!DOCTYPE html>
<html>

<head>
	<title>All Entries</title>
</head>

<body>
	<div class="container">
		<h2>All Entries</h2>
		<form action="/delete" method="post" onsubmit="return confirmDelete();">
			<table>
				<tr>
					<th></th>
					<th>Name</th>
					<th>Room</th>
					<th>Weights</th>
					<th>Add Weight</th>
				</tr>
				{% for entry in entries %}
				<tr>
					<td><input type="checkbox" name="delete_ids" value="{{ entry[0] }}"></td>
					<td>{{ entry[1] }}</td>
					<td>{{ entry[2] }}</td>
					<td>{{ entry[3] }}</td>
					<td style="vertical-align: middle;">
						<div class="add-weight-row">
							<button type="button" onclick="toggleForm('{{ entry[0] }}')" class="add-weight-btn">
								Add Weight
							</button>
							<form action="/add_weight/{{ entry[0] }}" method="post" id="form-{{ entry[0] }}"
								style="display:none;">
								<input type="number" name="weight" step="0.1" required placeholder="New weight"
									style="padding:0.4em; border-radius:4px; border:1px solid #d2d2e6; width:90px;">
								<button type="button" class="save-btn" onclick="onSaveClick(this)">Save</button>
								<button type="button" onclick="toggleForm('{{ entry[0] }}')"
									class="cancel-btn">Cancel</button>
							</form>
						</div>
					</td>
				</tr>
				{% endfor %}
			</table>

			<button type="submit">Delete Selected</button>
		</form>
		<div class="nav-links">
			<a href="/">Back to form</a> |
			<a href="/report">Generate PDF Report</a>
		</div>
	</div>
	<script src="/static/script.js"></script>
	<link rel="stylesheet" href="/static/style.css">
</body>

</html>